<!DOCTYPE HTML>
    <html>
        <head>
            <meta charset = "UTF-8">
            <title>Move Car</title>
            <script type = "text/javascript" src = "simpleGame.js"></script>
            <script type = "text/javascript">
                var scene;
                var car;
                function spriteConstructor(){
                    scene.hideCursor();
                    var tSprite = new Sprite(scene, "car.png", 50, 30);
                    //tSprite.setMoveAngle(270);
                    tSprite.setPosition(100,100);
                    tSprite.setSpeed(0);
                    tSprite.followMouse = function(){
                        this.setX(document.mouseX);
                        this.setY(document.mouseY);
                    }
                    var sound = new Sound("music.mp3")
                    tSprite.checkKeys = function(){
                        if (keysDown[K_LEFT]) {
                            this.changeAngleBy(-5);
                        }
                        if (keysDown[K_RIGHT]) {
                            this.changeAngleBy(5);
                        }
                        if (keysDown[K_UP]) {
                            this.changeSpeedBy(1);
                        }
                        if (keysDown[K_DOWN]) {
                            this.changSpeedBy(-1);
                        }
                    }
                    tSprite.checkSound = function(){
                        var count = 0;
                        if (keysDown[K_SPACE]) {
                            count++;
                            if (count % 2 != 0) {
                                sound.play();
                            } else {
                                sound.pause();
                            }
                        }
                    }
                    return tSprite;
                }
                function init(){
                    scene = new Scene();
                    car = spriteConstructor();
                    scene.start();
                }
                function update(){
                    scene.clear();
                    car.checkKeys();
                    //car.checkSound();
                    car.followMouse();
                    car.update();
                }
            </script>
        </head>
        <body onload = "init()">
        </body>
    </html>    